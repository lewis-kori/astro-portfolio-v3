---
import MobileNav from '@/components/navs/MobileNav.astro';
import ThemeSwitcher from '@/components/shared/ThemeSwitcher.astro';
import { siteConfig } from '@/config';
import { Image } from 'astro:assets';

const pathname = Astro.url.pathname;
const isHomePage = pathname === '/';

const navLinks = [
  { name: 'Home', href: '/' },
  { name: 'About', href: isHomePage ? '#about' : '/#about' },
  { name: 'Work', href: isHomePage ? '#work' : '/#work' },
  { name: 'Projects', href: isHomePage ? '#projects' : '/projects' },
  { name: 'Blog', href: isHomePage ? '#blogs' : '/blog' },
  { name: 'Operating Notes', href: '/operating-notes' },
  { name: 'Contact', href: '/contact' },
];
---

<header class='sticky top-0 z-50 py-6'>
  <nav class='flex items-center justify-between container-fluid'>
    <div class='font-bold'>
      <a
        href='/'
        class='text-foreground flex items-center justify-center hover:text-primary transition-colors'
      >
        <Image
          src={siteConfig.avatar}
          alt={siteConfig.name}
          width={40}
          height={40}
          class='size-14 border inline-block rounded-full object-cover'
        />
      </a>
    </div>

    <div
      class='hidden md:flex items-center backdrop-blur-2xl px-6 py-2 rounded-full gap-6 bg-secondary/20'
    >
      <ul class='flex space-x-6'>
        {
          navLinks.map((link) => (
            <li>
              <a
                href={link.href}
                class='text-foreground hover:text-primary transition-colors'
              >
                {link.name}
              </a>
            </li>
          ))
        }
      </ul>
      <div class='flex items-center gap-2 border-l border-border pl-4'>
        <!-- <LanguageSwitcher /> -->
        <ThemeSwitcher />
      </div>
    </div>

    <MobileNav navLinks={navLinks} />
  </nav>
</header>
